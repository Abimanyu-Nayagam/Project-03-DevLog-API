hi, this is nirajjjj. READ THIS FILE TO UNDERSTAND WORK DONE FOR CLI-UPDATION

Your current CLI (cli.py) allows users to create, read, update, delete, and search entries/snippets.
Previously, the backend did NOT use authentication, so all CLI API calls worked without a token.

Now the backend has been updated to include:

    User Registration

    User Login

    JWT token authentication

    Protected routes (all CRUD and search routes now require a valid JWT)

Because of this change, your CLI must also support authentication before calling any protected routes.

The problems we need to solve:

CLI has no way to register or login a user.
    ‚Üí We must add new CLI commands: register and login.

    After login, the backend returns a JWT token.
    ‚Üí We must store this token globally inside the CLI.

    Every existing CLI API call must attach the token in headers.
    ‚Üí Every requests.get/post/delete/patch must include:
    headers={"Authorization": f"Bearer {token}"}
    (except for login and register calls)

    The token should remain available as long as the CLI session runs.
    ‚Üí Use a global variable and update it only after login.

The CLI must fail gracefully if user tries to call any protected route without logging in.

This is the full and correct problem.

‚úÖ STEP 1 ‚Äî Add Global Token Variable to cli.py

Before writing any login/register functions, we must prepare the foundation.

Inside cli.py, at the very top (right after imports), add:

token = ""


This variable will store the JWT token after a successful login.

‚úÖ STEP 2 ‚Äî Add register() function in cli.py

This function:

Takes user input (email, username, password)

Sends a POST request to /register

Does NOT require a JWT token

Prints the result cleanly

Paste this function somewhere near the other CLI functions (example: below create_entry()).

NOTEEEEE: ran this 'pip install -r requirements.txt' because rich modeules were showing not imported

‚úÖ STEP 3 ‚Äî Implement login_user() (the MOST important step)

This is the core of your JWT system.
I‚Äôll give you the code after I explain everything in detail so you understand each ‚Äúwhy‚Äù.

üî• What the Login Function Must Achieve

Accept username & password

Call the backend login route:

POST http://localhost:5000/login


Backend returns a JWT token

Store that token in the global variable

Print a success message

All other API calls will now use this stored token

This is the entire JWT flow.

‚úÖ STEP 4 ‚Äî Function-by-function JWT header integration( URGHHH this one is loooooooooong)

We will update every protected CLI function one by one.

IMPORTANT RULE:
‚û°Ô∏è Only login and register do NOT need JWT
‚û°Ô∏è Everything else must check token + send Authorization header

HOLY SHIT THIS IS TAKING WAY TOO LONG
üß† What was added?
1. Token check at the top
global token
if not token:
    print("Please login first.")
    return

2. JWT headers
headers = {"Authorization": f"Bearer {token}"}

3. Use headers in the GET request
res = requests.get(url, headers=headers)


Everything else is unchanged.

HAD ISSUES WITH THIS FUCKALL 
        case 'filter-entry-tag': filter_entries_by_tag(args.tag),
it said called but not defined 

FINAL: changed made to ALL necessary functions as well as the Main